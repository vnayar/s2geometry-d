<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8"/>
		<title>Class S2BooleanOperation</title>
		<link rel="stylesheet" type="text/css" href="../../styles/ddox.css"/>
		<link rel="stylesheet" href="../../prettify/prettify.css" type="text/css"/>
		<script type="text/javascript" src="../../scripts/jquery.js">/**/</script><script type="text/javascript" src="../../scripts/ddox.js">/**/</script>
	</head>
	<body onload="setupDdox();">
		<nav id="main-nav">
			<noscript>
				<p style="color: red">The search functionality needs JavaScript enabled</p>
			</noscript>
			<div id="symbolSearchPane" style="display: none">
				<form action="#" method="GET">
					<input id="symbolSearch" type="text" name="q" placeholder="Search for symbols" autocomplete="off" onchange="performSymbolSearch(40);" onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();"/>
				</form>
				<ul id="symbolSearchResults" class="symbolList" style="display: none"></ul><script type="application/javascript" src="../../symbols.js"></script><script type="application/javascript">var symbolSearchRootDir = "../../";
$('#symbolSearchPane').show();</script>
			</div>
			<ul class="tree-view">
				<li class="tree-view ">
					<div class="package ">s2
					</div>
			<ul class="tree-view">
				<li class="tree-view collapsed">
					<div class="package ">base
					</div>
			<ul class="tree-view">
				<li>
					<div class="module ">
						<a href="../../s2/base/spinlock.html">spinlock</a>
					</div>
				</li>
			</ul>
				</li>
				<li class="tree-view collapsed">
					<div class="package ">builder
					</div>
			<ul class="tree-view">
				<li class="tree-view collapsed">
					<div class="package ">util
					</div>
			<ul class="tree-view">
				<li>
					<div class="module ">
						<a href="../../s2/builder/util/s2polygon_layer.html">s2polygon_layer</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/builder/util/s2polyline_layer.html">s2polyline_layer</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/builder/util/s2polyline_vector_layer.html">s2polyline_vector_layer</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/builder/util/snap_functions.html">snap_functions</a>
					</div>
				</li>
			</ul>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/builder/graph.html">graph</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/builder/layer.html">layer</a>
					</div>
				</li>
			</ul>
				</li>
				<li class="tree-view collapsed">
					<div class="package ">shapeutil
					</div>
			<ul class="tree-view">
				<li>
					<div class="module ">
						<a href="../../s2/shapeutil/contains_brute_force.html">contains_brute_force</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/shapeutil/count_edges.html">count_edges</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/shapeutil/edge_iterator.html">edge_iterator</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/shapeutil/get_reference_point.html">get_reference_point</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/shapeutil/range_iterator.html">range_iterator</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/shapeutil/shape_edge.html">shape_edge</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/shapeutil/shape_edge_id.html">shape_edge_id</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/shapeutil/visit_crossing_edge_pairs.html">visit_crossing_edge_pairs</a>
					</div>
				</li>
			</ul>
				</li>
				<li class="tree-view collapsed">
					<div class="package ">strings
					</div>
			<ul class="tree-view">
				<li>
					<div class="module ">
						<a href="../../s2/strings/serialize.html">serialize</a>
					</div>
				</li>
			</ul>
				</li>
				<li class="tree-view collapsed">
					<div class="package ">util
					</div>
			<ul class="tree-view">
				<li class="tree-view collapsed">
					<div class="package ">coding
					</div>
			<ul class="tree-view">
				<li>
					<div class="module ">
						<a href="../../s2/util/coding/coder.html">coder</a>
					</div>
				</li>
			</ul>
				</li>
				<li class="tree-view collapsed">
					<div class="package ">container
					</div>
			<ul class="tree-view">
				<li>
					<div class="module ">
						<a href="../../s2/util/container/btree.html">btree</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/util/container/btree_map.html">btree_map</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/util/container/dense_hash_set.html">dense_hash_set</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/util/container/dense_hash_table.html">dense_hash_table</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/util/container/rbtree_map.html">rbtree_map</a>
					</div>
				</li>
			</ul>
				</li>
				<li class="tree-view collapsed">
					<div class="package ">hash
					</div>
			<ul class="tree-view">
				<li>
					<div class="module ">
						<a href="../../s2/util/hash/mix.html">mix</a>
					</div>
				</li>
			</ul>
				</li>
				<li class="tree-view collapsed">
					<div class="package ">log
					</div>
			<ul class="tree-view">
				<li>
					<div class="module ">
						<a href="../../s2/util/log/logger.html">logger</a>
					</div>
				</li>
			</ul>
				</li>
				<li class="tree-view collapsed">
					<div class="package ">math
					</div>
			<ul class="tree-view">
				<li>
					<div class="module ">
						<a href="../../s2/util/math/exactfloat.html">exactfloat</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/util/math/mathutil.html">mathutil</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/util/math/matrix3x3.html">matrix3x3</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/util/math/s2const.html">s2const</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/util/math/vector.html">vector</a>
					</div>
				</li>
			</ul>
				</li>
			</ul>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/id_set_lexicon.html">id_set_lexicon</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/logger.html">logger</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/mutable_s2shape_index.html">mutable_s2shape_index</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/r1interval.html">r1interval</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/r2point.html">r2point</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/r2rect.html">r2rect</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s1angle.html">s1angle</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s1chord_angle.html">s1chord_angle</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s1interval.html">s1interval</a>
					</div>
				</li>
				<li>
					<div class="module selected">
						<a href="../../s2/s2boolean_operation.html">s2boolean_operation</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2builder.html">s2builder</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2cap.html">s2cap</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2cell.html">s2cell</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2cell_id.html">s2cell_id</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2cell_union.html">s2cell_union</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2centroids.html">s2centroids</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2closest_edge_query.html">s2closest_edge_query</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2closest_edge_query_base.html">s2closest_edge_query_base</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2closest_point_query.html">s2closest_point_query</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2closest_point_query_base.html">s2closest_point_query_base</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2contains_point_query.html">s2contains_point_query</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2contains_vertex_query.html">s2contains_vertex_query</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2coords.html">s2coords</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2crossing_edge_query.html">s2crossing_edge_query</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2debug.html">s2debug</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2distance_target.html">s2distance_target</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2edge_clipping.html">s2edge_clipping</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2edge_crosser.html">s2edge_crosser</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2edge_crossings.html">s2edge_crossings</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2edge_distances.html">s2edge_distances</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2edge_vector_shape.html">s2edge_vector_shape</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2error.html">s2error</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2latlng.html">s2latlng</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2latlng_rect.html">s2latlng_rect</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2latlng_rect_bounder.html">s2latlng_rect_bounder</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2lax_loop_shape.html">s2lax_loop_shape</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2lax_polygon_shape.html">s2lax_polygon_shape</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2lax_polyline_shape.html">s2lax_polyline_shape</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2loop.html">s2loop</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2measures.html">s2measures</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2metrics.html">s2metrics</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2min_distance_targets.html">s2min_distance_targets</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2padded_cell.html">s2padded_cell</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2point.html">s2point</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2point_compression.html">s2point_compression</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2point_index.html">s2point_index</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2point_vector_shape.html">s2point_vector_shape</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2pointutil.html">s2pointutil</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2polygon.html">s2polygon</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2polyline.html">s2polyline</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2polyline_simplifier.html">s2polyline_simplifier</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2predicates.html">s2predicates</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2region.html">s2region</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2region_coverer.html">s2region_coverer</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2shape.html">s2shape</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2shape_index.html">s2shape_index</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2shape_index_region.html">s2shape_index_region</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2text_format.html">s2text_format</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/s2wedge_relations.html">s2wedge_relations</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/sequence_lexicon.html">sequence_lexicon</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../s2/value_lexicon.html">value_lexicon</a>
					</div>
				</li>
			</ul>
				</li>
			</ul>
		</nav>
		<div id="main-contents">
			<h1>Class S2BooleanOperation</h1><p>This class implements boolean operations (intersection, union, difference,
 and symmetric difference) for regions whose boundaries are defined by
 geodesic edges.
</p>
			<div class="prototype">
				<code class="lang-d">
					<div class="single-prototype">
			<span class="kwd">class</span> <span class="typ">S2BooleanOperation</span>
			<span class="pun">;</span>
					</div>
				</code>
			</div>
			<section><p>S2BooleanOperation operates on exactly two input regions at a time.  Each
 region is represented as an S2ShapeIndex and may contain any number of
 points, polylines, and polygons.  The region is essentially the union of
 these objects, except that polygon interiors must be disjoint from all
 other geometry (including other polygon interiors).  If the input geometry
 for a region does not meet this condition, it can be normalized by
 computing its union first.  Note that points or polylines are allowed to
 coincide with the boundaries of polygons.
</p>

<p> Degeneracies are supported.  A polygon loop or polyline may consist of a
 single edge from a vertex to itself, and polygons may contain "sibling
 pairs" consisting of an edge and its corresponding reverse edge.  Polygons
 must not have any duplicate edges (due to the requirement that polygon
 interiors are disjoint), but polylines may have duplicate edges or can even
 be self-intersecting.
</p>

<p> Points and polyline edges are treated as multisets: if the same point or
 polyline edge appears multiple times in the input, it will appear multiple
 times in the output.  For example, the union of a point with an identical
 point consists of two points.  This feature is useful for modeling large
 sets of points or polylines as a single region while maintaining their
 distinct identities, even when the points or polylines intersect each
 other.  It is also useful for reconstructing polylines that loop back on
 themselves.  If duplicate geometry is not desired, it can be merged by
</p>
</section>

			<section><h2>Constructors</h2>
				<table>
					<col class="caption"/>
					<tr>
						<th>Name</th><th>Description</th>
					</tr>
					<tr>
						<td>
							<a href="../../s2/s2boolean_operation/S2BooleanOperation.this.html" class="public">
								<code>this</code>
							</a>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a href="../../s2/s2boolean_operation/S2BooleanOperation.this.html" class="public">
								<code>this</code>
							</a>
						</td>
						<td>Specifies that the output boundary edges should be sent to three
 different layers according to their dimension.  Points (represented by
 degenerate edges) are sent to layer 0, polyline edges are sent to
 layer 1, and polygon edges are sent to layer 2.
</td>
					</tr>
				</table>
			</section>
			<section><h2>Methods</h2>
				<table>
					<col class="caption"/>
					<tr>
						<th>Name</th><th>Description</th>
					</tr>
					<tr>
						<td>
							<a href="../../s2/s2boolean_operation/S2BooleanOperation.build.html" class="public">
								<code>build</code>
							</a>
						</td>
						<td>Executes the given operation.  Returns true on success, and otherwise
 sets "error" appropriately.  (This class does not generate any errors
 itself, but the S2Builder::Layer might.)
</td>
					</tr>
					<tr>
						<td>
							<a href="../../s2/s2boolean_operation/S2BooleanOperation.contains.html" class="public">
								<code>contains</code>
							</a>
						</td>
						<td>Convenience method that returns true if A contains B, i.e., if the
difference (B - A) is empty.
</td>
					</tr>
					<tr>
						<td>
							<a href="../../s2/s2boolean_operation/S2BooleanOperation.equals.html" class="public">
								<code>equals</code>
							</a>
						</td>
						<td>Convenience method that returns true if the symmetric difference of A and
 B is empty.  (Note that A and B may still not be identical, e.g. A may
 contain two copies of a polyline while B contains one.)
</td>
					</tr>
					<tr>
						<td>
							<a href="../../s2/s2boolean_operation/S2BooleanOperation.intersects.html" class="public">
								<code>intersects</code>
							</a>
						</td>
						<td>Convenience method that returns true if A intersects B.
</td>
					</tr>
					<tr>
						<td>
							<a href="../../s2/s2boolean_operation/S2BooleanOperation.isEmpty.html" class="public">
								<code>isEmpty</code>
							</a>
						</td>
						<td>Convenience method that returns true if the result of the given operation is empty.
</td>
					</tr>
					<tr>
						<td>
							<a href="../../s2/s2boolean_operation/S2BooleanOperation.opType.html" class="public">
								<code>opType</code>
							</a>
						</td>
						<td></td>
					</tr>
				</table>
			</section>
			<section><h2>Inner classes</h2>
				<table>
					<col class="caption"/>
					<tr>
						<th>Name</th><th>Description</th>
					</tr>
					<tr>
						<td>
							<a href="../../s2/s2boolean_operation/S2BooleanOperation.Options.html" class="public">
								<code>Options</code>
							</a>
						</td>
						<td></td>
					</tr>
				</table>
			</section>
			<section><h2>Inner structs</h2>
				<table>
					<col class="caption"/>
					<tr>
						<th>Name</th><th>Description</th>
					</tr>
					<tr>
						<td>
							<a href="../../s2/s2boolean_operation/S2BooleanOperation.SourceId.html" class="public">
								<code>SourceId</code>
							</a>
						</td>
						<td>SourceId identifies an edge from one of the two input S2ShapeIndexes.
 It consists of a region id (0 or 1), a shape id within that region's
 S2ShapeIndex, and an edge id within that shape.
</td>
					</tr>
				</table>
			</section>
			<section><h2>Enums</h2>
				<table>
					<col class="caption"/>
					<tr>
						<th>Name</th><th>Description</th>
					</tr>
					<tr>
						<td>
							<a href="../../s2/s2boolean_operation/S2BooleanOperation.OpType.html" class="public">
								<code>OpType</code>
							</a>
						</td>
						<td>The supported operation types.
</td>
					</tr>
					<tr>
						<td>
							<a href="../../s2/s2boolean_operation/S2BooleanOperation.PolygonModel.html" class="public">
								<code>PolygonModel</code>
							</a>
						</td>
						<td>Translates OpType to one of the strings above.
</td>
					</tr>
					<tr>
						<td>
							<a href="../../s2/s2boolean_operation/S2BooleanOperation.PolylineModel.html" class="public">
								<code>PolylineModel</code>
							</a>
						</td>
						<td>Defines whether polylines are considered to contain their endpoints
(see definitions above).
</td>
					</tr>
					<tr>
						<td>
							<a href="../../s2/s2boolean_operation/S2BooleanOperation.Precision.html" class="public">
								<code>Precision</code>
							</a>
						</td>
						<td>With Precision::EXACT, the operation is evaluated using the exact input
 geometry.  Predicates that use this option will produce exact results;
 for example, they can distinguish between a polyline that barely
 intersects a polygon from one that barely misses it.  Constructive
 operations (ones that yield new geometry, as opposed to predicates) are
 implemented by computing the exact result and then snap rounding it
 according to the given snap_function() (see below).  This is as close as
 it is possible to get to the exact result while requiring that vertex
 coordinates have type "double".
</td>
					</tr>
				</table>
			</section>
			<section><h2>GraphOptions</h2>
<p>:DuplicateEdges::MERGE in the S2Builder output layer.
</p>

<p> Polylines are always considered to be directed.  Polyline edges between the
 same pair of vertices are defined to intersect even if the two edges are in
 opposite directions.  (Undirected polylines can be modeled by specifying
</p>
</section>
<section><h2>GraphOptions</h2>
<p>:EdgeType::UNDIRECTED in the S2Builder output layer.)
</p>

<p> The output of each operation is sent to an S2Builder::Layer provided by the
 client.  This allows clients to build any representation of the geometry
 they choose.  It also allows the client to do additional postprocessing of
 the output before building data structures; for example, the client can
 easily discard degeneracies or convert them to another data type.
</p>

<p> The boundaries of polygons and polylines can be modeled as open, semi-open,
 or closed.  Polyline boundaries are controlled by the PolylineModel class,
 whose options are as follows:
</p>

<p>  - In the OPEN model, polylines do not contain their first or last vertex.
</p>

<p>  - In the SEMI_OPEN model, polylines contain vertices except the last.
    Therefore if one polyline starts where another polyline stops, the two
    polylines do not intersect.
</p>

<p>  - In the CLOSED model, polylines contain all of their vertices.
</p>

<p> When multiple polylines are present, they are processed independently and
 have no effect on each other.  For example, in the OPEN boundary model the
 polyline ABC contains the vertex B, while set of polylines {AB, BC} does
 not.  (If you want to treat the polylines as a union instead, with
 boundaries merged according to the "mod 2" rule, this can be achieved by
 reassembling the edges into maximal polylines using S2PolylineVectorLayer
 with EdgeType::UNDIRECTED, DuplicateEdges::MERGE, and PolylineType::WALK.)
</p>

<p> Polygon boundaries are controlled by the PolygonModel class, which has the
 following options:
</p>

<p>  - In the OPEN model, polygons do not contain their vertices or edges.
    This implies that a polyline that follows the boundary of a polygon will
    not intersect it.
</p>

<p>  - In the SEMI_OPEN model, polygon point containment is defined such that
    if several polygons tile the region around a vertex, then exactly one of
    those polygons contains that vertex.  Similarly polygons contain all of
    their edges, but none of their reversed edges.  This implies that a
    polyline and polygon edge with the same endpoints intersect if and only
    if they are in the same direction.  (This rule ensures that if a
    polyline is intersected with a polygon and its complement, the two
    resulting polylines do not have any edges in common.)
</p>

<p>  - In the CLOSED model, polygons contain all their vertices, edges, and
    reversed edges.  This implies that a polyline that shares an edge (in
    either direction) with a polygon is defined to intersect it.  Similarly,
    this is the only model where polygons that touch at a vertex or along an
    edge intersect.
</p>

<p> Note that PolylineModel and PolygonModel are defined as separate classes in
 order to allow for possible future extensions.
</p>

<p> Operations between geometry of different dimensions are defined as follows:
</p>

<p>  - For UNION, the higher-dimensional shape always wins.  For example the
    union of a closed polygon A with a polyline B that coincides with the
    boundary of A consists only of the polygon A.
</p>

<p>  - For INTERSECTION, the lower-dimensional shape always wins.  For example,
    the intersection of a closed polygon A with a point B that coincides
    with a vertex of A consists only of the point B.
</p>

<p>  - For DIFFERENCE, higher-dimensional shapes are not affected by
    subtracting lower-dimensional shapes.  For example, subtracting a point
    or polyline from a polygon A yields the original polygon A.  This rule
    exists because in general, it is impossible to represent the output
    using the specified boundary model(s).  (Consider subtracting one vertex
    from a PolylineModel::CLOSED polyline, or subtracting one edge from a
</p>
</section>
<section><h2>PolygonModel</h2>
<p>:CLOSED polygon.)  If you want to perform operations like
    this, consider representing all boundaries explicitly (topological
    boundaries) using OPEN boundary models.  Another option for polygons is
    to subtract a degenerate loop, which yields a polygon with a degenerate
    hole (see S2LaxPolygonShape).
</p>

<p> Note that in the case of Precision::EXACT operations, the above remarks
 only apply to the output before snapping.  Snapping may cause nearby
 distinct edges to become coincident, e.g. a polyline may become coincident
 with a polygon boundary.  However also note that S2BooleanOperation is
 perfectly happy to accept such geometry as input.
</p>

<p> Note the following differences between S2BooleanOperation and the similar
 S2MultiBooleanOperation class:
</p>

<p>  - S2BooleanOperation operates on exactly two regions at a time, whereas
    S2MultiBooleanOperation operates on any number of regions.
</p>

<p>  - S2BooleanOperation is potentially much faster when the input is already
    represented as S2ShapeIndexes.  The algorithm is output sensitive and is
    often sublinear in the input size.  This can be a big advantage if, say,
</p>

<p>  - S2BooleanOperation supports exact predicates and the corresponding
    exact operations (i.e., operations that are equivalent to computing the
    exact result and then snap rounding it).
</p>

<p>  - S2MultiBooleanOperation has better error guarantees when there are many
    regions, since it requires only one snapping operation for any number of
    input regions.
</p>

<p> Example usage:
   S2ShapeIndex a, b;  // Input geometry, e.g. containing polygons.
   S2Polygon polygon;  // Output geometry.
</p>
</section>
<section><h2>S2BooleanOperation</h2>
<p>:Options options;
   options.set_snap_function(snap_function);
   S2BooleanOperation op(S2BooleanOperation::OpType::INTERSECTION,
</p>
</section>
<section><h2>absl</h2>
<p>:make_unique<S2PolygonLayer>(&polygon),
                         options);
   S2Error error;
   if (!op.Build(a, b, &error)) {
     LOG(ERROR) &lt;&lt; error;
     ...
   }
</p>

<p> If the output includes objects of different dimensions, they can be
 assembled into different layers with code like this:
</p>

<p>   vector<S2Point> points;
   vector<unique_ptr<S2Polyline>&gt; polylines;
   S2Polygon polygon;
   S2BooleanOperation op(
</p>
</section>
<section><h2>S2BooleanOperation</h2>
<p>:OpType::UNION,
</p>
</section>
<section><h2>absl</h2>
<p>:make_unique<s2builderutil::PointVectorLayer>(&points),
</p>
</section>
<section><h2>absl</h2>
<p>:make_unique<s2builderutil::S2PolylineVectorLayer>(&polylines),
</p>
</section>
<section><h2>absl</h2>
<p>:make_unique<S2PolygonLayer>(&polygon));
</p>
</section>

			<footer>
				<table class="license-info">
					<tr>
						<th>Authors</th>
						<td>
							
						</td>
					</tr>
					<tr>
						<th>Copyright</th>
						<td>
							
						</td>
					</tr>
					<tr>
						<th>License</th>
						<td>
							
						</td>
					</tr>
				</table>
				<p class="faint">Generated using the DDOX documentation generator</p>
			</footer>
		</div>
	</body>
</html>